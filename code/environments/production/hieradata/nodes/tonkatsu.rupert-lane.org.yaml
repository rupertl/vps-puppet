# tonkatsu.rupert-lane.org.yaml - hiera definitions for node tonkatsu
---
# What classses to install
classes:
  - dovecot
  - opendkim

# We are a postfix mailhost
postfix::server_type: mailhost

# Use Lets Encrypt TLS cert/key from website
postfix::tls_cert_file: /opt/letsencrypt/certs/www.rupert-lane.org/fullchain.pem
postfix::tls_key_file: /opt/letsencrypt/certs/www.rupert-lane.org/privkey.pem
dovecot::tls_cert_file: "%{hiera('postfix::tls_cert_file')}"
dovecot::tls_key_file: "%{hiera('postfix::tls_key_file')}"

# Domains to sign emails for
opendkim::primary_domain: "%{hiera('postfix::primary_domain')}"
opendkim::secondary_domains: "%{alias('postfix::secondary_domains')}"

